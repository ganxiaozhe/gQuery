/*
                       _ _ _____                      _   _
                      | | |  __ \                    | | (_)
    ___  ___ _ __ ___ | | | |__) |_____   _____  __ _| |  _ ___
   / __|/ __| '__/ _ \| | |  _  // _ \ \ / / _ \/ _` | | | / __|
   \__ \ (__| | | (_) | | | | \ \  __/\ V /  __/ (_| | |_| \__ \
   |___/\___|_|  \___/|_|_|_|  \_\___| \_/ \___|\__,_|_(_) |___/ v.0.1.3
                                                        _/ |
                                                       |__/

    "Declarative on-scroll reveal animations."

/*=============================================================================

    scrollReveal.js was inspired by cbpScroller.js (c) 2014 Codrops.

    Licensed under the MIT license.
    http://www.opensource.org/licenses/mit-license.php

=============================================================================*/

/*! scrollReveal.js v0.1.3 (c) 2014 Julian Lloyd | MIT license */

/*===========================================================================*/
"use strict";window.scrollReveal=function(t){function e(t){this.options=this.extend(this.defaults,t),this.docElem=this.options.elem,this.styleBank={},1==this.options.init&&this.init()}var i=1,o=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)}}();return e.prototype={defaults:{after:"0s",enter:"bottom",move:"24px",over:"0.66s",easing:"ease-in-out",opacity:0,complete:function(){},viewportFactor:.33,reset:!1,init:!0,elem:t.document.documentElement},init:function(){this.scrolled=!1;var e=this;this.elems=Array.prototype.slice.call(this.docElem.querySelectorAll("[data-scroll-reveal]")),this.elems.forEach(function(t,o){var r=t.getAttribute("data-scroll-reveal-id");r||(r=i++,t.setAttribute("data-scroll-reveal-id",r)),e.styleBank[r]||(e.styleBank[r]=t.getAttribute("style")),e.update(t)});var r=function(t){e.scrolled||(e.scrolled=!0,o(function(){e._scrollPage()}))},n=function(){function t(){e._scrollPage(),e.resizeTimeout=null}e.resizeTimeout&&clearTimeout(e.resizeTimeout),e.resizeTimeout=setTimeout(t,200)};this.docElem==t.document.documentElement?(t.addEventListener("scroll",r,!1),t.addEventListener("resize",n,!1)):this.docElem.addEventListener("scroll",r,!1)},_scrollPage:function(){var t=this;this.elems.forEach(function(e,i){t.update(e)}),this.scrolled=!1},parseLanguage:function(t){var e=t.getAttribute("data-scroll-reveal").split(/[, ]+/),i={};return e=function(t){var e=[],i=["from","the","and","then","but","with"];return t.forEach(function(t,o){i.indexOf(t)>-1||e.push(t)}),e}(e),e.forEach(function(t,o){switch(t){case"enter":return void(i.enter=e[o+1]);case"after":case"wait":return void(i.after=e[o+1]);case"move":return void(i.move=e[o+1]);case"ease":return i.move=e[o+1],void(i.ease="ease");case"ease-in":return i.move=e[o+1],void(i.easing="ease-in");case"ease-in-out":return i.move=e[o+1],void(i.easing="ease-in-out");case"ease-out":return i.move=e[o+1],void(i.easing="ease-out");case"over":return void(i.over=e[o+1]);default:return}}),i},update:function(t){var e=this,i=this.genCSS(t),o=this.styleBank[t.getAttribute("data-scroll-reveal-id")];return null!=o?o+=";":o="",t.getAttribute("data-scroll-reveal-initialized")||(t.setAttribute("style",o+i.initial),t.setAttribute("data-scroll-reveal-initialized",!0)),this.isElementInViewport(t,this.options.viewportFactor)?t.getAttribute("data-scroll-reveal-complete")?void 0:this.isElementInViewport(t,this.options.viewportFactor)?(t.setAttribute("style",o+i.target+i.transition),void(this.options.reset||setTimeout(function(){""!=o?t.setAttribute("style",o):t.removeAttribute("style"),t.setAttribute("data-scroll-reveal-complete",!0),e.options.complete(t)},i.totalDuration))):void 0:void(this.options.reset&&t.setAttribute("style",o+i.initial+i.reset))},genCSS:function(t){var e,i,o=this.parseLanguage(t);o.enter?("top"!=o.enter&&"bottom"!=o.enter||(e=o.enter,i="y"),"left"!=o.enter&&"right"!=o.enter||(e=o.enter,i="x")):("top"!=this.options.enter&&"bottom"!=this.options.enter||(e=this.options.enter,i="y"),"left"!=this.options.enter&&"right"!=this.options.enter||(e=this.options.enter,i="x")),"top"!=e&&"left"!=e||(o.move?o.move="-"+o.move:o.move="-"+this.options.move);var r=o.move||this.options.move,n=o.over||this.options.over,s=o.after||this.options.after,a=o.easing||this.options.easing;return{transition:"-webkit-transition: -webkit-transform "+n+" "+a+" "+s+",  opacity "+n+" "+a+" "+s+";transition: transform "+n+" "+a+" "+s+", opacity "+n+" "+a+" "+s+";-webkit-perspective: 1000;-webkit-backface-visibility: hidden;",initial:"-webkit-transform: translate"+i+"("+r+");transform: translate"+i+"("+r+");opacity: "+(o.opacity||this.options.opacity)+";",target:"-webkit-transform: translate"+i+"(0);transform: translate"+i+"(0);opacity: 1;",reset:"-webkit-transition: -webkit-transform "+n+" "+a+" 0s,  opacity "+n+" "+a+" "+s+";transition: transform "+n+" "+a+" 0s,  opacity "+n+" "+a+" "+s+";-webkit-perspective: 1000;-webkit-backface-visibility: hidden;",totalDuration:1e3*(parseFloat(n)+parseFloat(s))}},getViewportH:function(){var e=this.docElem.clientHeight,i=t.innerHeight;return this.docElem==t.document.documentElement&&e<i?i:e},getOffset:function(t){var e=0,i=0;do{isNaN(t.offsetTop)||(e+=t.offsetTop),isNaN(t.offsetLeft)||(i+=t.offsetLeft)}while(t=t.offsetParent);return{top:e,left:i}},isElementInViewport:function(e,i){var o=this.docElem.scrollTop+this.docElem.offsetTop;this.docElem==t.document.documentElement&&(o=t.pageYOffset);var r=o+this.getViewportH(),n=e.offsetHeight,s=this.getOffset(e).top,a=s+n,i=i||0;return s+n*i<=r&&a>=o||"fixed"==(e.currentStyle?e.currentStyle:t.getComputedStyle(e,null)).position},extend:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}},e}(window);